# 翻译键统一命名空间总结

## 统一目标

将异步批量发送邮件和WhatsApp相关的翻译键统一到 `common` 命名空间，实现更好的组织结构和一致性。

## 统一的翻译键

### 1. WhatsApp发送相关翻译键

#### 新增到 common 命名空间的翻译键：

**中文 (zh-CN.ts):**
```typescript
// WhatsApp发送相关
whatsappSending: 'WhatsApp发送',
whatsappSendingProgress: 'WhatsApp发送进度',
whatsappSendingResult: 'WhatsApp发送结果',
whatsappSendingComplete: 'WhatsApp发送完成',
whatsappSendingFailed: 'WhatsApp发送失败',
whatsappSendingCancelled: 'WhatsApp发送已取消',
whatsappSendingError: 'WhatsApp发送错误',

// 异步批量发送相关
asyncBatchSendQRCodeWhatsApp: '异步批量发送WhatsApp',

// 任务创建和状态
whatsappTaskCreated: 'WhatsApp发送任务已创建，共 {count} 个工人',
whatsappTaskCreateFailed: 'WhatsApp发送任务创建失败',
whatsappTaskCancelFailed: 'WhatsApp发送任务取消失败',
whatsappTaskCancelled: 'WhatsApp发送任务已取消',
whatsappTaskNotFound: 'WhatsApp发送任务不存在',
whatsappTaskCompleted: 'WhatsApp发送任务已完成',
whatsappTaskFailed: 'WhatsApp发送任务失败',
```

**英文 (en-US.ts):**
```typescript
// WhatsApp sending related
whatsappSending: 'WhatsApp Sending',
whatsappSendingProgress: 'WhatsApp Sending Progress',
whatsappSendingResult: 'WhatsApp Sending Result',
whatsappSendingComplete: 'WhatsApp Sending Complete',
whatsappSendingFailed: 'WhatsApp Sending Failed',
whatsappSendingCancelled: 'WhatsApp Sending Cancelled',
whatsappSendingError: 'WhatsApp Sending Error',

// Async batch sending related
asyncBatchSendQRCodeWhatsApp: 'Async Batch Send WhatsApp',

// Task creation and status
whatsappTaskCreated: 'WhatsApp sending task created, {count} workers',
whatsappTaskCreateFailed: 'WhatsApp sending task creation failed',
whatsappTaskCancelFailed: 'WhatsApp sending task cancellation failed',
whatsappTaskCancelled: 'WhatsApp sending task cancelled',
whatsappTaskNotFound: 'WhatsApp sending task not found',
whatsappTaskCompleted: 'WhatsApp sending task completed',
whatsappTaskFailed: 'WhatsApp sending task failed',
```

**繁体中文 (zh-TW.ts):**
```typescript
// WhatsApp發送相關
whatsappSending: 'WhatsApp發送',
whatsappSendingProgress: 'WhatsApp發送進度',
whatsappSendingResult: 'WhatsApp發送結果',
whatsappSendingComplete: 'WhatsApp發送完成',
whatsappSendingFailed: 'WhatsApp發送失敗',
whatsappSendingCancelled: 'WhatsApp發送已取消',
whatsappSendingError: 'WhatsApp發送錯誤',

// 異步批量發送相關
asyncBatchSendQRCodeWhatsApp: '異步批量發送WhatsApp',

// 任務創建和狀態
whatsappTaskCreated: 'WhatsApp發送任務已創建，共 {count} 個工人',
whatsappTaskCreateFailed: 'WhatsApp發送任務創建失敗',
whatsappTaskCancelFailed: 'WhatsApp發送任務取消失敗',
whatsappTaskCancelled: 'WhatsApp發送任務已取消',
whatsappTaskNotFound: 'WhatsApp發送任務不存在',
whatsappTaskCompleted: 'WhatsApp發送任務已完成',
whatsappTaskFailed: 'WhatsApp發送任務失敗',
```

### 2. 邮件发送相关翻译键统一

将原本在 `worker` 命名空间的邮件相关翻译键也统一到 `common` 命名空间：

**迁移的翻译键：**
```typescript
// 从 worker.asyncBatchSendQRCodeEmail 迁移到 common.asyncBatchSendQRCodeEmail
// 从 worker.emailTaskCreated 迁移到 common.emailTaskCreated
```

## 代码更新

### 1. WorkerTable.tsx 组件更新

**更新前：**
```typescript
{t('worker.asyncBatchSendQRCodeEmail')}({selectedRowKeys.length})
{t('worker.asyncBatchSendQRCodeWhatsApp') || '异步批量发送WhatsApp'}
{t('worker.emailTaskCreated', { count: validWorkerData.length.toString() })}
{t('worker.emailTaskCreateFailed')}
{t('worker.whatsappTaskCreated', { count: validWorkerData.length.toString() })}
{t('worker.whatsappTaskCreateFailed')}
```

**更新后：**
```typescript
{t('common.asyncBatchSendQRCodeEmail')}({selectedRowKeys.length})
{t('common.asyncBatchSendQRCodeWhatsApp')}
{t('common.emailTaskCreated', { count: validWorkerData.length.toString() })}
{t('common.emailTaskCreateFailed')}
{t('common.whatsappTaskCreated', { count: validWorkerData.length.toString() })}
{t('common.whatsappTaskCreateFailed')}
```

### 2. WhatsAppProgressModal.tsx 组件更新

**更新前：**
```typescript
{t('common.whatsappSendingProgress') || 'WhatsApp发送进度'}
{t('common.cancelSending') || '取消发送'}
{t('common.retryFailed') || '重新发送失败项'}
{t('common.whatsappSendingResult') || 'WhatsApp发送结果'}
{t('common.whatsappSendingComplete') || 'WhatsApp发送完成'}
{t('common.whatsappSendingFailed') || 'WhatsApp发送失败'}
{t('common.whatsappSendingCancelled') || 'WhatsApp发送已取消'}
{t('common.whatsappSendingError') || '发送过程中发生错误'}
{t('common.whatsappTaskCancelled') || 'WhatsApp发送任务已取消'}
{t('common.whatsappTaskCancelFailed') || 'WhatsApp发送任务取消失败'}
```

**更新后：**
```typescript
{t('common.whatsappSendingProgress')}
{t('common.cancelSending')}
{t('common.retryFailed')}
{t('common.whatsappSendingResult')}
{t('common.whatsappSendingComplete')}
{t('common.whatsappSendingFailed')}
{t('common.whatsappSendingCancelled')}
{t('common.whatsappSendingError')}
{t('common.whatsappTaskCancelled')}
{t('common.whatsappTaskCancelFailed')}
```

## 统一后的命名空间结构

### common 命名空间包含：

1. **基础操作**：save, cancel, edit, delete, view, add 等
2. **状态相关**：pending, processing, completed, failed, cancelled 等
3. **邮件发送**：emailSending*, emailTask* 等
4. **WhatsApp发送**：whatsappSending*, whatsappTask* 等
5. **异步批量发送**：asyncBatchSendQRCodeEmail, asyncBatchSendQRCodeWhatsApp 等
6. **进度相关**：progress, estimatedTimeRemaining, successCount, failedCount 等
7. **操作按钮**：cancelSending, retryFailed, testConnection 等

## 优势

1. **统一性**：所有发送相关的翻译键都在同一个命名空间
2. **一致性**：邮件和WhatsApp发送功能使用相同的命名模式
3. **可维护性**：翻译键集中管理，便于维护和更新
4. **可扩展性**：未来添加其他发送方式时，可以遵循相同的命名规范

## 验证

所有翻译键已经：
- ✅ 在三个语言文件中添加完整
- ✅ 在组件中更新引用
- ✅ 移除了备用翻译文本（|| 'fallback text'）
- ✅ 统一了命名空间结构

现在用户可以享受一致的翻译体验，所有异步批量发送相关的功能都使用统一的 `common` 命名空间！
