# 批量发送弹窗翻译键使用说明

## 概述

为了统一管理批量发送弹窗相关的翻译文本，我们将所有相关的翻译键统一放在了 `common` 命名空间下，方便其他页面复用。

## 翻译键分类

### 1. 基础状态翻译

```typescript
// 发送状态
common.pending: '等待中' / 'Pending' / '等待中'
common.processing: '发送中' / 'Sending' / '發送中'
common.completed: '已完成' / 'Completed' / '已完成'
common.failed: '发送失败' / 'Failed' / '發送失敗'
common.cancelled: '已取消' / 'Cancelled' / '已取消'
common.unknown: '未知' / 'Unknown' / '未知'
```

### 2. 邮件发送相关

```typescript
// 邮件发送标题和状态
common.emailSending: '邮件发送' / 'Email Sending' / '郵件發送'
common.emailSendingProgress: '邮件发送进度' / 'Email Sending Progress' / '郵件發送進度'
common.emailSendingResult: '邮件发送结果' / 'Email Sending Result' / '郵件發送結果'
common.emailSendingComplete: '邮件发送完成' / 'Email Sending Complete' / '郵件發送完成'
common.emailSendingFailed: '邮件发送失败' / 'Email Sending Failed' / '郵件發送失敗'
common.emailSendingCancelled: '邮件发送已取消' / 'Email Sending Cancelled' / '郵件發送已取消'
common.emailSendingSuccess: '邮件发送成功' / 'Email Sending Success' / '郵件發送成功'
common.emailSendingError: '邮件发送错误' / 'Email Sending Error' / '郵件發送錯誤'
```

### 3. 发送统计

```typescript
// 统计信息
common.sendStatistics: '发送统计' / 'Sending Statistics' / '發送統計'
common.successCount: '成功' / 'Success' / '成功'
common.failedCount: '失败' / 'Failed' / '失敗'
common.totalCount: '总计' / 'Total' / '總計'
common.successEmails: '成功：{count} 封' / 'Success: {count} emails' / '成功：{count} 封'
common.failedEmails: '失败：{count} 封' / 'Failed: {count} emails' / '失敗：{count} 封'
common.totalEmails: '总计：{count} 封' / 'Total: {count} emails' / '總計：{count} 封'
```

### 4. 进度信息

```typescript
// 进度相关
common.progress: '进度' / 'Progress' / '進度'
common.estimatedTimeRemaining: '预计剩余时间' / 'Estimated Time Remaining' / '預計剩餘時間'
common.currentBatch: '当前批次' / 'Current Batch' / '當前批次'
common.totalBatches: '总批次数' / 'Total Batches' / '總批次數'
common.batchProgress: '批次进度：{current}/{total}' / 'Batch Progress: {current}/{total}' / '批次進度：{current}/{total}'
```

### 5. 操作按钮

```typescript
// 按钮文本
common.cancelSending: '取消发送' / 'Cancel Sending' / '取消發送'
common.retryFailed: '重新发送失败的邮件' / 'Retry Failed Emails' / '重新發送失敗的郵件'
common.testConnection: '测试连接' / 'Test Connection' / '測試連接'
common.viewDetails: '查看详情' / 'View Details' / '查看詳情'
common.hideDetails: '隐藏详情' / 'Hide Details' / '隱藏詳情'
common.close: '关闭' / 'Close' / '關閉'
common.ok: '确定' / 'OK' / '確定'
```

### 6. 失败详情

```typescript
// 失败信息
common.failureDetails: '失败详情' / 'Failure Details' / '失敗詳情'
common.failureDetailsCount: '发送失败的邮件 ({count} 封)' / 'Failed Emails ({count})' / '發送失敗的郵件 ({count} 封)'
common.viewFailureDetails: '查看失败详情 ({count} 封)' / 'View Failure Details ({count})' / '查看失敗詳情 ({count} 封)'
common.failureEmailAddress: '失败邮件地址' / 'Failed Email Address' / '失敗郵件地址'
common.failureReason: '失败原因' / 'Failure Reason' / '失敗原因'
common.moreFailures: '还有 {count} 个失败邮件...' / 'There are {count} more failed emails...' / '還有 {count} 個失敗郵件...'
```

### 7. 连接测试

```typescript
// SMTP连接测试
common.testSMTPConnection: '测试SMTP连接' / 'Test SMTP Connection' / '測試SMTP連接'
common.connectionTestSuccess: '连接测试成功' / 'Connection Test Success' / '連接測試成功'
common.connectionTestFailed: '连接测试失败' / 'Connection Test Failed' / '連接測試失敗'
common.connectionTestSuccessMessage: '连接测试成功: {host}:{port}' / 'Connection test successful: {host}:{port}' / '連接測試成功: {host}:{port}'
common.connectionTestFailedMessage: '连接测试失败: {error}' / 'Connection test failed: {error}' / '連接測試失敗: {error}'
```

### 8. 错误信息

```typescript
// 任务错误
common.emailTaskCreateFailed: '邮件任务创建失败' / 'Email task creation failed' / '郵件任務創建失敗'
common.emailTaskCancelFailed: '邮件任务取消失败' / 'Email task cancellation failed' / '郵件任務取消失敗'
common.emailTaskNotFound: '邮件任务不存在' / 'Email task not found' / '郵件任務不存在'
common.emailTaskCompleted: '邮件任务已完成' / 'Email task completed' / '郵件任務已完成'
common.emailTaskCancelled: '邮件任务已取消' / 'Email task cancelled' / '郵件任務已取消'
common.emailTaskFailed: '邮件任务失败' / 'Email task failed' / '郵件任務失敗'
```

### 9. 时间格式化

```typescript
// 时间单位
common.hour: '小时' / 'hour' / '小時'
common.hours: '小时' / 'hours' / '小時'
common.minute: '分钟' / 'minute' / '分鐘'
common.minutes: '分钟' / 'minutes' / '分鐘'
common.second: '秒' / 'second' / '秒'
common.seconds: '秒' / 'seconds' / '秒'

// 时间格式化模板
common.formatTime: '{hours}小时{minutes}分钟{seconds}秒' / '{hours}h {minutes}m {seconds}s' / '{hours}小時{minutes}分鐘{seconds}秒'
common.formatTimeShort: '{minutes}分{seconds}秒' / '{minutes}m {seconds}s' / '{minutes}分{seconds}秒'
```

## 使用示例

### 1. 在React组件中使用

```typescript
import { useTranslation } from 'react-i18next';

const MyComponent = () => {
  const { t } = useTranslation();
  
  return (
    <div>
      <h2>{t('common.emailSendingProgress')}</h2>
      <p>{t('common.sendStatistics')}: {t('common.successEmails', { count: 10 })}</p>
      <button>{t('common.cancelSending')}</button>
    </div>
  );
};
```

### 2. 在WorkerTable中使用

```typescript
// 替换原有的硬编码文本
// 原来：message.success('邮件发送完成');
// 现在：
message.success(t('common.emailSendingComplete'));

// 原来：<Button>取消发送</Button>
// 现在：
<Button>{t('common.cancelSending')}</Button>
```

### 3. 在其他页面中使用

```typescript
// 在AdminSites.tsx中
const handleBatchSend = () => {
  message.info(t('common.emailSending'));
  // ... 发送逻辑
};

// 在DistributorWorkerUpload.tsx中
const showProgress = () => {
  setTitle(t('common.emailSendingProgress'));
  // ... 显示进度
};
```

## 参数化翻译

### 1. 计数参数

```typescript
// 使用 {count} 参数
t('common.successEmails', { count: 15 })
// 输出：成功：15 封 / Success: 15 emails / 成功：15 封

t('common.failedEmails', { count: 3 })
// 输出：失败：3 封 / Failed: 3 emails / 失敗：3 封
```

### 2. 主机和端口参数

```typescript
// 使用 {host} 和 {port} 参数
t('common.connectionTestSuccessMessage', { 
  host: 'smtp.example.com', 
  port: 587 
})
// 输出：连接测试成功: smtp.example.com:587
```

### 3. 时间参数

```typescript
// 使用 {hours}, {minutes}, {seconds} 参数
t('common.formatTime', { hours: 1, minutes: 30, seconds: 45 })
// 输出：1小时30分钟45秒 / 1h 30m 45s / 1小時30分鐘45秒
```

## 扩展使用

### 1. 添加新的翻译键

如果需要添加新的翻译键，请在三个语言文件中同时添加：

```typescript
// zh-CN.ts
common.newKey: '新文本',

// en-US.ts  
common.newKey: 'New Text',

// zh-TW.ts
common.newKey: '新文本',
```

### 2. 在其他组件中复用

这些翻译键可以在任何需要显示邮件发送相关信息的组件中使用：

- 邮件历史记录页面
- 邮件配置页面
- 系统监控页面
- 错误日志页面

### 3. 保持一致性

使用统一的翻译键可以确保：
- 整个应用的文本风格一致
- 多语言支持完整
- 维护成本降低
- 用户体验统一

## 注意事项

1. **命名规范**：所有翻译键都使用 `common.` 前缀
2. **参数化**：使用 `{param}` 格式进行参数化
3. **多语言**：确保三种语言都有对应的翻译
4. **一致性**：保持相同功能使用相同的翻译键
5. **扩展性**：新增功能时优先使用现有翻译键

通过这些统一的翻译键，我们可以确保批量发送弹窗功能在整个应用中的文本显示一致，同时为其他页面提供了可复用的翻译资源。
